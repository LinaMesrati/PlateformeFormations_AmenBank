<app-header></app-header>
<div class="container mt-4">
    <h3 class="text-center mb-4" style="color: #041b35; font-weight: bold; text-transform: uppercase;">Inscription des Candidats</h3>
   
  </div>
<div class="cartBox">
    
    <table class="table table-striped">
        <thead>
            <tr class="text-center">
                <th></th>
                <th>Candidat_Id</th>
                <th>Nom</th>
                <th>Email</th>
                <th>Date D'inscription</th>
                <th >Formations</th>
                <th></th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let item of carts | paginate: { itemsPerPage: 3, currentPage: p }; let index = index " >
                <td></td>
                <td>{{item.userId}}</td>
                <td>{{item.user?.fullname}}</td>
                <td>{{item.user?.email}}</td>
                <td>{{item.date | date:"longDate"}}</td>
                <td>
                   {{item.forms.length}}
                </td>
                <td >
                    <button class="btn btn-danger mx-2" (click)="deleteCart(item.id)" >Delete</button>
                    <button class="btn btn-primary" data-toggle="modal" data-target="#viewCart" (click)="view(index,content)">View</button>
                </td>
            </tr>
        </tbody> 
    </table>
    
</div>

<div class="text-center">
    <pagination-controls (pageChange)="p = $event"></pagination-controls>
  </div>

    

            <ng-template #content let-c="close" let-d="dismiss"> 
                <div class="modal-header">
                    <h4 class="modal-title" id="modal-basic-title" style="color: rgb(39, 10, 66);">
                      <strong>Liste des Sessions </strong> 
                    </h4>
                    <button type="button" class="btn-close" aria-label="Close" (click)="d('Cross click')"></button>
                </div>
                <div class="modal-body">
                   
           
                <table class="table table-striped">
                    <thead>
                        <tr>
                            <th></th>
                            <th>Formation</th>
                            <th>Date De Début</th>
                            <th>Durée</th>
                            <th>Lieu</th>
                          
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let item of forms; let i = index">
                            <td><img src="{{item.item.image}}" alt="" class="small-image">
                            </td>
                            <td>{{item.item.title}}</td>
                            <td>{{item.item.sessions[0].date | date: 'medium'}}</td>
                            <td>{{item.item.sessions[0].duration}}</td>
                            <td>{{item.item.sessions[0].location}}</td>
                            
                        </tr>
                    </tbody> 
                </table>
                </div>
               
            </ng-template>
            
          
